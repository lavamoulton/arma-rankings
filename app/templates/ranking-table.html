{% for match_type in match_types %}
  <div class="container-fluid">
    <div class="container">
      <div class="page-header mt-0">
        <div class="row">
          <div class="col-xs-12">
            <h2>{{ match_type.header }} Server Rankings</h2>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="table-responsive .col-md-12">
      <table class="table table-hover header-fixed">
        <thead>
        <tr>
          <th class="ranking">Ranking</th>
          <th class="username">Username</th>
          <th class="rating">Rating</th>
          <th class="latest-delta">Latest change</th>
          <th class="latest-delta-date">Change date</th>
        </tr>
        </thead>
        <tbody>
        {% for ranking in match_type.ranking %}
          <tr>
            <td class="ranking"> {{ loop.index }} 
              {% if loop.index == 1 %}
                <img src="/static/images/gold-crown-icon.png" height="18" style="padding-top: 2px; float:right;"></img>
              {% endif%}
            </td>
            <td class="username"> {{ ranking.username }} </td>
            <td class="rating"> {{ ranking.rating }} </td>

            {% if ranking.latest_delta > 0 %}
              {% set latest_delta_color = 'green' %}
              {% set latest_delta_signal = '+' %}
            {% elif ranking.latest_delta < 0 %}
              {% set latest_delta_color = 'red' %}
            {% endif %}
            <td class="latest-delta {{ latest_delta_color }}">
              {{ latest_delta_signal }}{{ ranking.latest_delta }}
            </td>
            <td class="latest-delta-date"> {{ ranking.latest_delta_date.strftime("%B %d") }} </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
      <a href="/matches?matchtype={{ match_type.matchtype }}">Match history</a>
    </div>
  </div>
{% endfor %}